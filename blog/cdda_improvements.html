<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Ben Leskey">
		<meta charset="utf-8">
		<title>Ben Leskey | Recent great improvements in Cataclysm: DDA</title>
		<link rel="stylesheet" type="text/css" href="../style.css">
		<link rel="alternate" type="application/rss+xml" title="Ben Leskey's RSS feed" href="feed.xml">
		

		<!-- Syntax highlighting with highlight.js -->
		<link rel="stylesheet" href="../deps/highlight.js.css">
		<script src="../deps/highlight.js.js"></script>
		<script>hljs.highlightAll();</script>

		<script>
			window.addEventListener("load", function() {
				for(const img of document.getElementsByTagName("img")) {
					// Make img title equal img alt if the title isn't set
					if(!img.hasAttribute("title")) {
						img.setAttribute("title", img.getAttribute("alt"));
					}

					// If the img isn't part of a link, make it link to itself.
					if(img.parentNode.tagName.toLowerCase() !== "a") {
						const a = document.createElement("a");
						a.setAttribute("href", img.getAttribute("src"));
						img.replaceWith(a);
						a.appendChild(img);
					}
				}
			});
		</script>
	</head>
	<body>
		<a href="..">Ben Leskey</a> | <a href=".">Blog</a>
		<hr>
		<header>
		<h1>Recent great improvements in Cataclysm: DDA</h1>
		<span class="subtitle">2023-11-02</span>
		<span class="tags"> <a class="tag" href="../blog/tags/cdda">#cdda</a> <a class="tag" href="../blog/tags/games">#games</a></span>
		
		</header>
		<hr>
		<main class="post">
			<p><a href="https://cataclysmdda.org">Cataclysm: Dark Days Ahead</a> has recieved some really nice updates to the experimental branch in recent months. My top three are:</p>
<h2><a href="https://github.com/CleverRaven/Cataclysm-DDA/pull/67907">Default sort zone</a></h2>
<p>This one is huge! Now you can define a loot sorting zone as a catchall, where items will be sorted unless there's a more specific zone for them to go into. Previously, every time I settled down in a location or mobile base, I would have to set every zone for every filter as many times as there were tiles. It was so tedious that I wrote a Bash script to do it for me using xdotool, a script that is entirely useless now!</p>

<h3>mobile-base-zones script</h3>
<pre>
<code language="bash">
#!/bin/bash

. `which qterminal-helper`

# Custom zone letter
CUSTOM=j

# Delay between keys (msec)
DELAY=200

set -x

W="$(wmctrl -l | grep Cataclysm | cut -d" " -f1)"
xdotool windowactivate "$W"
sleep 1

type() {
	xdotool type --delay $DELAY "$(echo -e "$1")"
}

key() {
	sleep $(echo "$DELAY / 1000" | bc -l)
	xdotool key "$@"
}

zone() {
	pos="$1"
	zone="$2"
	type "YA$zone\r$pos\r\r$CONFIRM"
	key Escape
	type "Y"
}

customzone() {
	pos="$1"
	filter="$2"
	type "YA$CUSTOM$filter\r\r$pos\r\r$CONFIRM"
	key Escape
	type "Y"
}

. `which mobile-base-zones-config`

for pos in $GENERIC_P; do
	for zone in $GENERIC_Z; do
			zone "$pos" "$zone"
	done
done

for pos in $DUMP_P; do
	for zone in $DUMP_Z; do
			zone "$pos" "$zone"
	done
done
</code>
</pre>

<h3>mobile-base-zones-config</h3>
<pre>
<code>
#!/bin/bash

# Y if vehicle, otherwise empty
CONFIRM=

# Collect positions from origin
GENERIC_P=""
# Collect zones
GENERIC_Z=""

# Dump positions from origin
DUMP_P="."
# Dump zones
DUMP_Z="0 a b c d e f g h i k l m n o p q t u v w x y z C D E F G J I K"
</code>
</pre>

<h2><a href="https://github.com/CleverRaven/Cataclysm-DDA/pull/64334">Plugging in tools</a></h2>
<p>This one is just great quality of life. Now players can plug tools like welders, soldering irons, and especially smartphones (with their unswappable batteries) directly into appliances or vehicle dashboards. This saves all the tedium of continually swapping out batteries, and makes using electric tools just that much easier.</p>

<h2><a href="https://github.com/CleverRaven/Cataclysm-DDA/pull/68686">Brawling buff</a></h2>
<p>Finally there's been a small buff to the Brawling style where waiting for a turn or two will grant a bonus to accuracy. This makes melee combat using the Brawling style feel more engaging, and gives more edge to early-to-mid-game melee combat.</p>
		</main>
		<hr>
		<footer>
			
			<div class="footerinfo">
				<span>Post dated 2023-11-02</span>
				 <a class="tag" href="../blog/tags/cdda">#cdda</a> <a class="tag" href="../blog/tags/games">#games</a>
				<div class="footericons">
	<a class="icon" href="https://gitlab.com/linewriter1024" title="Gitlab @linewriter1024"><img src="https://upload.wikimedia.org/wikipedia/commons/3/35/GitLab_icon.svg" alt="Gitlab account"></a>

	<a class="icon" href="https://github.com/linewriter1024" title="Github @linewriter1024"><img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="Github account"></a>

	<a class="icon" href="https://www.linkedin.com/in/benleskey"><img src="https://upload.wikimedia.org/wikipedia/commons/8/81/LinkedIn_icon.svg" alt="LinkedIn profile"></a>

	<a class="icon" href="../blog/feed.xml" title="RSS feed"><img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Feed-icon.svg" alt="RSS feed"></a>

	<a class="icon" href="https://lichess.org/@/beha" title="Lichess @beha"><img src="https://upload.wikimedia.org/wikipedia/commons/d/da/Lichess_Logo_2019.svg" alt="Lichess"></a>
</div>
			</div>
		</footer>
		<script id="diffblog-plugin-script" defer src="https://diff.blog/static/js/diffblog_plugin_v1.js"></script>
		<script>
				document.getElementById("diffblog-plugin-script").addEventListener("load", function () {
					if(window.location.hostname === "benleskey.com") {
						DiffBlog(
							"4ueakreaad4synt32tf40kmwalpfu5wwbrqany53viw9hka20x"
						);
					}
				});
		</script>
	</body>
</html>